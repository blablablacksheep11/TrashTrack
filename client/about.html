<!DOCTYPE html>
<html lang="en" data-bs-theme="light">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TrashTrack</title>
    <link rel="icon" type="image/svg+xml" href="../img/smart-trash-dark.svg">
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="../src/main.css">
    <script src="../node_modules/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <!-- Web Socket -->
    <script src="https://cdn.socket.io/4.8.1/socket.io.min.js"
        integrity="sha384-mkQ3/7FUtcGyoppY6bz/PORYoGqOl7/aSUMn2ymDOJcapfS6PHqxhRTMh1RR0Q6+"
        crossorigin="anonymous"></script>
    <!-- Google Chart -->
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <style>
        body {
            min-height: 100vh;
            position: relative;
        }

        #chart_div {
            border-radius: 0.375rem;
        }

        #theme::after {
            display: none !important;
        }
    </style>
</head>

<body class="d-flex flex-column bg-body-tertiary">
    <div class="row p-0 m-0">
        <nav class="navbar navbar-expand-lg bg-secondary-subtle">
            <div class="container-fluid">
                <a class="navbar-brand" href="dashboard.html"><img src="../img/smart-trash-dark.svg" alt="TrashTrack"
                        style="height: 30px;" id="logo">&nbsp;<label class="fs-6 ps-1"
                        style="cursor: pointer;">TrashTrack</label></a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                    data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
                    aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarSupportedContent">
                    <ul class="navbar-nav me-auto mb-2 mb-lg-0 ps-2">
                        <li class="nav-item">
                            <a class="nav-link" aria-current="page" role="button" href="dashboard.html">Home</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" role="button" href="history-binlist.html">History</a>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"
                                aria-expanded="false">
                                List
                            </a>
                            <ul class="dropdown-menu">
                                <li><a class="dropdown-item" href="bin.html">List of bin</a></li>
                                <li><a class="dropdown-item" href="cleaner.html">List of cleaner</a></li>
                            </ul>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link active" role="button" href="about.html">About Us</a>
                        </li>
                    </ul>
                    <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"
                                aria-expanded="false">
                                Profile
                            </a>
                            <ul class="dropdown-menu dropdown-menu-end">
                                <li><a class="dropdown-item" onclick="window.location.href = 'profile.html'">View</a>
                                </li>
                                <li><a class="dropdown-item" onclick="window.location.replace('signin.html')">Sign
                                        Out</a></li>
                            </ul>
                        </li>
                        <div class="dropdown p-0 m-0">
                            <button class="btn btn-transparent dropdown-toggle border" type="button"
                                data-bs-toggle="dropdown" aria-expanded="false" id="theme">
                                <i class="bi bi-brightness-high"></i>
                            </button>
                            <ul class="dropdown-menu dropdown-menu-end">
                                <li><a class="dropdown-item active" id="light-theme" onclick="change(1)"><i
                                            class="bi bi-brightness-high"></i>&nbsp;&nbsp;Light</a></li>
                                <li><a class="dropdown-item" id="dark-theme" onclick="change(0)"><i
                                            class="bi bi-moon"></i>&nbsp;&nbsp;Dark</a></li>
                            </ul>
                        </div>
                    </ul>
                </div>
            </div>
        </nav>
    </div>
    <div class="row py-4 px-4 m-0 d-flex justify-content-center bg-secondary-subtle">
        <label class="fs-1 text-center fst-italic p-0 m-0">About Us</label>
        <p class="p-0 m-0 mt-3 mb-3 w-50 text-body-secondary text-center">We provide innovative smart waste management
            solutions that optimize waste collection, reduce overflow, and promote sustainability through advanced
            technology.</p>
    </div>
    <div class="row m-0 mt-5 mb-0 mb-md-5">
        <div class="col-md-6 m-0 p-0 d-flex justify-content-center">
            <img src="../img/garbage-packing.jpg" class="img-fluid w-75 rounded shadow" alt="TrashTrack"
                style="opacity: 0.8;">
        </div>
        <div class="col-md-6 ps-5 m-md-0 p-md-0">
            <label class="text-body-secondary fw-light mt-5 ps-5 p-md-0">OUR VALUES</label>
            <br>
            <label class="fs-2 fst-italic ps-5 ms-3 ps-md-3 m-md-0">Next-Generation Waste Management</label>
            <br>
            <p class="px-3 ms-5 ms-md-0 me-5 mt-2">TrashTrack is leading the way in next-generation waste management by
                combining smart technology with
                sustainability. Our system uses real-time data and advanced sensors to optimize waste collection, reduce
                overflow, creating cleaner, more efficient, and environmentally-friendly
                communities.</p>
        </div>
    </div>
    <div class="row m-0 mt-5 mb-5">
        <div class="col-md-6 m-0 p-0 ps-5">
            <label class="text-body-secondary fw-light mt-5 ps-5">OUR MISSION</label>
            <br>
            <label class="fs-2 fst-italic ps-5 ms-3">Revolutionizing Waste Management for a Greener Future</label>
            <br>
            <p class="px-3 me-5 mt-2 ps-5 ms-3">At SmartBin, we are dedicated to revolutionizing waste management
                through innovation and technology. Our mission is to create smarter, more sustainable solutions that
                simplify waste sorting and reduce environmental impact. By integrating advanced sensors, real-time data,
                and intelligent sorting systems, we aim to empower communities and businesses to manage waste
                efficiently, and contribute to a cleaner, greener future for all.</p>
        </div>
        <div class="col-md-6 mt-3 m-md-0 p-0 d-flex justify-content-center">
            <img src="../img/plant-bulb.jpg" class="img-fluid w-75 rounded shadow" alt="TrashTrack"
                style="opacity: 0.9">
        </div>
    </div>
    <!-- Footer -->
    <div class="row position-absolute w-100 bottom-0 p-0 m-0">
        <p class="p-0 m-0 text-center fs-6 fw-light">&copy; 2025 LAM YONG QIN. All rights reserved.</p>
    </div>
    <!-- Google Chart -->
    <script type="text/javascript">
        async function drawChart(binid, distance) {
            google.charts.load('current', { 'packages': ['corechart'] });
            google.charts.setOnLoadCallback(drawC);
            function drawC() {
                // Create the data table.
                var data = new google.visualization.DataTable();
                data.addColumn('string', 'Topping');
                data.addColumn('number', 'Slices');
                data.addRows([
                    ['Free space', distance],
                    ['Occupied space', 13 - distance],
                ]);

                // Set chart options
                var options = {
                    'title': `Condition of Bin${binid}`,
                    'width': 600, // Control the canvas width
                    'height': 450, // Control the canvas height
                    'chartArea': { width: '90%', height: '67.5%' }, // Determine the chart size in canvas
                    'tooltip': { isHtml: true },
                    'colors': ['#007bff', '#ff9800'],
                    'backgroundColor': 'transparent',
                };

                // Instantiate and draw our chart, passing in some options.
                var chart = new google.visualization.PieChart(document.getElementById('chart_div'));
                chart.draw(data, options);
            }
        }

        async function drawGraph(binid, distance) {
            document.getElementById("graph_div").classList.add("py-4");
            google.charts.load('current', { 'packages': ['line'] });
            google.charts.setOnLoadCallback(drawG);

            function drawG() {

                var data = new google.visualization.DataTable();
                data.addColumn('number', 'Date');
                data.addColumn('number', 'Collection Frequency');

                data.addRows([
                    [1, 37.8],
                    [2, 30.9],
                    [3, 25.4],
                    [4, 11.7],
                    [5, 11.9],
                    [6, 8.8],
                    [7, 7.6],
                    [8, 12.3],
                    [9, 16.9],
                    [10, 12.8],
                    [11, 5.3],
                    [12, 6.6],
                    [13, 4.8],
                    [14, 4.2]
                ]);

                var options = {
                    'title': `Collection Frequency of Bin${binid}`,
                    'width': 1300, // Control the canvas width
                    'height': 450, // Control the canvas height
                    'chartArea': { width: '90%', height: '67.5%' }, // Determine the chart size in canvas
                    'tooltip': { isHtml: true },
                    'colors': ['#007bff', '#ff9800'],
                    'backgroundColor': 'transparent',
                };

                var chart = new google.charts.Line(document.getElementById('graph_div'));

                chart.draw(data, google.charts.Line.convertOptions(options));
            }
        }
    </script>
    <!-- General JavaScript-->
    <script>
        const socket = io('http://localhost:3000');
        socket.on('connect', (response) => {
            console.log("Connected to server");
        });

        async function change(mode) {
            let htmlTag = document.documentElement; // Select the <html> tag
            let logo = document.getElementById("logo");

            if (mode == 1) {  // Switch to light mode
                if (htmlTag.getAttribute("data-bs-theme") == "dark") {
                    htmlTag.removeAttribute("data-bs-theme");  // Remove existing theme
                    htmlTag.setAttribute("data-bs-theme", "light");  // Set light mode
                    logo.src = "../img/smart-trash-dark.svg";
                    document.getElementById("light-theme").classList.add("active");
                    document.getElementById("dark-theme").classList.remove("active");
                    sessionStorage.setItem("theme", "light");
                }
            } else if (mode == 0) {  // Switch to dark mode
                if (htmlTag.getAttribute("data-bs-theme") == "light") {
                    htmlTag.removeAttribute("data-bs-theme");  // Remove existing theme
                    htmlTag.setAttribute("data-bs-theme", "dark");  // Set dark mode
                    logo.src = "../img/smart-trash-light.svg";
                    document.getElementById("light-theme").classList.remove("active");
                    document.getElementById("dark-theme").classList.add("active");
                    sessionStorage.setItem("theme", "dark");
                }
            }
        }

        async function getTheme() {
            const theme = sessionStorage.getItem("theme");
            if (theme == "light") {
                change(1);
            } else if (theme == "dark") {
                change(0);
            }
        }

        window.onload = () => {
            getTheme();
        }
    </script>
</body>

</html>